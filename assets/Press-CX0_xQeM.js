import{_ as y,B as b,c as a,k as w,C as B,F as f,e as p,g as I,f as h,v as C,h as M,r as N,o as n,b as i,a as P,w as u,d,t as g}from"./index-BTUK8q38.js";const x={name:"Press",components:{BaseButton:b},setup(){const m=I(),l=h([]),r=h(null),o=C(()=>{const e={};return l.value.forEach(s=>{const t=s.content.year||"No Year";e[t]||(e[t]=[]),e[t].push(s)}),Object.fromEntries(Object.entries(e).sort((s,t)=>t[0]-s[0]))}),v=e=>{e&&window.open(e,"_blank")},_=e=>{console.log("Show image called with media:",e),e!=null&&e.filename&&(r.value=e.filename,console.log("Setting active image to:",r.value))},c=()=>{console.log("Hide image called"),r.value=null};return M(async()=>{var e,s;try{const t=await m.get("cdn/stories",{starts_with:"press/",version:"draft",resolve_links:"url"});(e=t==null?void 0:t.data)!=null&&e.stories&&(l.value=t.data.stories,console.log("First press item full content:",(s=l.value[0])==null?void 0:s.content))}catch(t){console.error("Error fetching press items:",t)}}),{groupedPress:o,openPressUrl:v,activeImage:r,showImage:_,hideImage:c}}},E={class:"press-container"},S={class:"press-items"};function V(m,l,r,o,v,_){const c=N("BaseButton");return n(),a("div",E,[o.activeImage?(n(),a("div",{key:0,class:"background-image",style:B({backgroundImage:`url(${o.activeImage})`})},null,4)):w("",!0),(n(!0),a(f,null,p(o.groupedPress,(e,s)=>(n(),a("div",{key:s,class:"year-group"},[i(c,{class:"year-button",disabled:!0,variant:"grey"},{default:u(()=>[d(g(s==="No Year"?"":s),1)]),_:2},1024),P("div",S,[(n(!0),a(f,null,p(e,t=>(n(),a("div",{key:t.id,class:"press-item"},[i(c,{class:"media-outlet",onClick:k=>o.openPressUrl(t.content.URL.url),onMouseenter:k=>o.showImage(t.content.Media),onMouseleave:o.hideImage,variant:"black"},{default:u(()=>[d(g(t.content.media_outlet),1)]),_:2},1032,["onClick","onMouseenter","onMouseleave"]),i(c,{class:"press-title",variant:"grey"},{default:u(()=>[d(g(t.content.press_title),1)]),_:2},1024)]))),128))])]))),128))])}const U=y(x,[["render",V],["__scopeId","data-v-4e7a6104"]]);export{U as default};
