import{_ as y,m as I,B as S,f as _,c as n,p as d,a as B,q as T,b as P,j as b,k as C,w as c,n as m,r as x,i as p,u as A,o as s,d as v,t as f,s as H}from"./index-bPnPnLSG.js";const i={name:"ProjectCard",components:{BaseButton:S},directives:{lazyLoad:I},props:{projectName:{type:String,default:"Sample Project",required:!0},year:{type:String,default:"",required:!1},image:{type:String,default:"",required:!0},slug:{type:String,required:!0},useImgTag:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:e}){const a=A(),r=_(!1);return{navigateToProject:l=>{l.target.closest(".base-button")===null&&(p.navigateTo(a,`/projects/${t.slug}`),e("click",t.slug))},isHovering:r}},data(){return{isLoaded:!1,hasError:!1,backgroundImage:"",shouldAnimate:!1}},computed:{cardStyle(){return{backgroundImage:this.useImgTag?"none":this.backgroundImage}}},methods:{setBackgroundImage(t){this.backgroundImage=`url(${t})`,this.isLoaded=!0},setErrorState(){this.hasError=!0}},mounted(){if(this.shouldAnimate=!localStorage.getItem("hasSeenAnimation"),console.log(`ProjectCard mounted - Image URL: ${this.image}, Slug: ${this.slug}`),this.shouldAnimate&&localStorage.setItem("hasSeenAnimation","true"),!this.useImgTag){const t=new Image;t.onload=()=>{this.setBackgroundImage(this.image)},t.onerror=()=>{console.error(`Failed to load image: ${this.image}`),this.setErrorState()},t.src=this.image}}},j=()=>{H(t=>({d83be59a:t.shouldAnimate?0:1}))},h=i.setup;i.setup=h?(t,e)=>(j(),h(t,e)):j;const N={class:"project-tags"};function V(t,e,a,r,k,l){const u=x("BaseButton"),g=T("lazy-load");return s(),n("div",{class:m(["project-card",{"use-img-tag":a.useImgTag}])},[a.useImgTag?d((s(),n("img",{key:0,"data-index":0,class:"project-card-image",alt:"Project thumbnail",onClick:e[0]||(e[0]=(...o)=>r.navigateToProject&&r.navigateToProject(...o)),onMouseenter:e[1]||(e[1]=o=>r.isHovering=!0),onMouseleave:e[2]||(e[2]=o=>r.isHovering=!1)},null,544)),[[g,{url:a.image,index:0,resetQueue:!0}]]):d((s(),n("div",{key:1,"data-index":0,class:"project-card-background",onClick:e[3]||(e[3]=(...o)=>r.navigateToProject&&r.navigateToProject(...o)),onMouseenter:e[4]||(e[4]=o=>r.isHovering=!0),onMouseleave:e[5]||(e[5]=o=>r.isHovering=!1)},null,544)),[[g,{url:a.image,index:0,resetQueue:!0}]]),B("div",N,[P(u,{to:`/projects/${a.slug}`,class:m({"button-hover":r.isHovering})},{default:c(()=>[v(f(a.projectName),1)]),_:1},8,["to","class"]),a.year&&a.year.trim().length>0?(s(),b(u,{key:0,variant:"grey"},{default:c(()=>[v(f(a.year),1)]),_:1})):C("",!0)])],2)}const E=y(i,[["render",V],["__scopeId","data-v-ef940069"]]);export{E as P};
