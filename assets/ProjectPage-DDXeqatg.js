import{_ as R,j as d,w as i,T as w,o,c as n,k as l,a as r,B as G,b as f,t as c,r as y,n as V,F as A,e as D,l as E,u as F,d as g}from"./index-BTUK8q38.js";import{I as S}from"./ImageGallery-jieK6rQd.js";import{P as q}from"./ProjectCard-CF0izl76.js";import{u as z}from"./useStoryblok-CNVrLp3C.js";import{I as H,M as O}from"./InfoText-BSh_6rD1.js";import"./storyblok-D2HStyFq.js";const Q={name:"LoadingIndicator",props:{isLoading:{type:Boolean,default:!1}}},U={key:0,class:"loading-container"};function J(v,e,u,t,p,j){return o(),d(w,{name:"fade"},{default:i(()=>[u.isLoading?(o(),n("div",U,e[0]||(e[0]=[r("p",{class:"loading-text"},"Loading...",-1)]))):l("",!0)]),_:1})}const K=R(Q,[["render",J],["__scopeId","data-v-81a89476"]]),W={name:"ProjectPage",components:{BaseButton:G,ImageGallery:S,ProjectCard:q,LoadingIndicator:K,MainText:O,InfoText:H},setup(){E(),F();const{story:v,stories:e,isLoading:u,contentReady:t,errorMessage:p,formatImage:j,formatImages:s,navigateTo:k}=z({type:"project",preload:!0,watchRoute:!0,onError:(m,x)=>{console.error(`Custom error handler for project ${x}:`,m)}});return{story:v,stories:e,isLoading:u,contentReady:t,errorMessage:p,formatImage:j,formatImages:s,navigateToProject:m=>{k(m)}}}},X={class:"project-page"},Y={class:"content-area"},Z={key:0,class:"error-message"},$={key:0,class:"warning-message"},tt={class:"project-tags"},et={key:2,class:"no-images-message"},ot={class:"button-container"},at={key:3,class:"image-grid"},nt={key:4,class:"no-projects-message"};function rt(v,e,u,t,p,j){var h,T,P,B,C,L,M,N;const s=y("BaseButton"),k=y("MainText"),I=y("ImageGallery"),m=y("InfoText"),x=y("ProjectCard");return o(),n("div",X,[r("div",Y,[t.errorMessage&&!t.story&&!t.isLoading?(o(),n("div",Z,[r("p",null,c(t.errorMessage),1),e[1]||(e[1]=r("p",null,"Redirecting to projects page...",-1)),f(s,{to:"/projects"},{default:i(()=>e[0]||(e[0]=[g("Go to Projects")])),_:1})])):l("",!0),t.story&&t.contentReady?(o(),n("div",{key:1,class:V(["content-container",{"content-visible":!t.isLoading}])},[t.errorMessage?(o(),n("div",$,[r("p",null,c(t.errorMessage),1)])):l("",!0),r("div",tt,[(h=t.story.content)!=null&&h.title_tag&&t.story.content.title_tag.trim().length>0?(o(),d(s,{key:0,to:`/projects/${t.story.slug.split("/").pop()}`,variant:"active"},{default:i(()=>[g(c(t.story.content.title_tag),1)]),_:1},8,["to"])):l("",!0),(T=t.story.content)!=null&&T.location_tag&&t.story.content.location_tag.trim().length>0?(o(),d(s,{key:1,variant:"grey"},{default:i(()=>[g(c(t.story.content.location_tag),1)]),_:1})):l("",!0),((P=t.story.content)!=null&&P.date_tag||(B=t.story.content)!=null&&B.year_tag)&&(((C=t.story.content)==null?void 0:C.date_tag)||((L=t.story.content)==null?void 0:L.year_tag)).trim().length>0?(o(),d(s,{key:2,variant:"grey"},{default:i(()=>{var a,_;return[g(c(((a=t.story.content)==null?void 0:a.date_tag)||((_=t.story.content)==null?void 0:_.year_tag)),1)]}),_:1})):l("",!0)]),f(k,null,{default:i(()=>{var a;return[g(c(((a=t.story.content)==null?void 0:a.main_text)||"No Description Available"),1)]}),_:1}),(M=t.story.content)!=null&&M.visuals&&t.story.content.visuals.length>0?(o(),d(I,{key:1,slug:t.story.slug,images:t.formatImages(t.story.content.visuals,{width:0,height:690,quality:85}),repeatCount:1,imageHeight:"690rem",imageQuality:85,isActive:!0},null,8,["slug","images"])):(o(),n("div",et,e[2]||(e[2]=[r("p",null,"No images available for this project",-1)]))),f(m,{text:((N=t.story.content)==null?void 0:N.info_text)||""},null,8,["text"]),r("div",ot,[f(s,{to:"/projects"},{default:i(()=>e[3]||(e[3]=[g("Other projects")])),_:1})]),t.stories&&t.stories.length>0?(o(),n("div",at,[(o(!0),n(A,null,D(t.stories,a=>{var _,b;return o(),d(x,{key:a.id,image:t.formatImage(a),projectName:((_=a.content)==null?void 0:_.title_tag)||"Untitled Project",year:((b=a.content)==null?void 0:b.year_tag)||"",slug:a.slug,useImgTag:!0,onClick:st=>t.navigateToProject(a.slug.split("/").pop())},null,8,["image","projectName","year","slug","onClick"])}),128))])):(o(),n("div",nt,e[4]||(e[4]=[r("p",null,"No other projects available",-1)])))],2)):l("",!0)])])}const _t=R(W,[["render",rt]]);export{_t as default};
