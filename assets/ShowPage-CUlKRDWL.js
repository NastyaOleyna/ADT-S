import{v as V,c as n,a as i,k as d,x as t,b as m,t as h,w as p,B as N,n as O,j as T,y as q,F as A,e as D,o,d as v}from"./index-BTUK8q38.js";import{I as F}from"./ImageGallery-jieK6rQd.js";import{u as G}from"./useStoryblok-CNVrLp3C.js";import{M as L,I as j}from"./InfoText-BSh_6rD1.js";import{c as C}from"./imageSettings-ALY2mmQZ.js";import"./storyblok-D2HStyFq.js";const z={class:"show-page"},E={class:"content-area"},P={key:0,class:"error-message"},U={key:0,class:"warning-message"},W={key:2,class:"no-images-message"},$={class:"button-container"},J={key:3,class:"other-shows-container"},K={key:4,class:"no-shows-message"},st={__name:"ShowPage",setup(X){const l=C("high"),r=C("thumbnail"),{story:e,stories:c,isLoading:_,contentReady:M,errorMessage:u,formatImages:y}=G({type:"show",preload:!0,watchRoute:!0}),f=V(()=>!c.value||c.value.length===0?[]:c.value.slice().sort(()=>.5-Math.random()).slice(0,4)),H=g=>y(g,l),Q=g=>y(g,r);return(g,a)=>{var w,S,k,x,I;return o(),n("div",z,[i("div",E,[t(u)&&!t(e)&&!t(_)?(o(),n("div",P,[i("p",null,h(t(u)),1),a[1]||(a[1]=i("p",null,"Redirecting to shows page...",-1)),m(N,{to:"/shows"},{default:p(()=>a[0]||(a[0]=[v("Go to Shows")])),_:1})])):d("",!0),t(e)&&t(M)?(o(),n("div",{key:1,class:O(["content-container",{"content-visible":!t(_)}])},[t(u)?(o(),n("div",U,[i("p",null,h(t(u)),1)])):d("",!0),(w=t(e).content)!=null&&w.visuals&&t(e).content.visuals.length>0?(o(),T(F,{key:1,name:((S=t(e).content)==null?void 0:S.title_tag)||"",location:((k=t(e).content)==null?void 0:k.location_tag)||"",date:((x=t(e).content)==null?void 0:x.date_tag)||"",slug:t(e).slug,images:H(t(e).content.visuals),repeatCount:1,imageHeight:`${t(l).height}px`,imageQuality:t(l).quality,imageFormat:t(l).format,resolutionRatio:t(l).resolutionRatio,isActive:!0},null,8,["name","location","date","slug","images","imageHeight","imageQuality","imageFormat","resolutionRatio"])):(o(),n("div",W,a[2]||(a[2]=[i("p",null,"No images available for this show",-1)]))),m(L,null,{default:p(()=>{var s;return[v(h(((s=t(e).content)==null?void 0:s.main_text)||"No Description Available"),1)]}),_:1}),m(j,{html:t(q)(((I=t(e).content)==null?void 0:I.info_text)||"")},null,8,["html"]),i("div",$,[m(N,{to:"/shows"},{default:p(()=>a[3]||(a[3]=[v("Other Shows")])),_:1})]),f.value.length>0?(o(),n("div",J,[(o(!0),n(A,null,D(f.value,s=>{var R,b,B;return o(),n("div",{key:s.id},[m(F,{name:((R=s.content)==null?void 0:R.title_tag)||"Untitled Show",location:((b=s.content)==null?void 0:b.location_tag)||"",date:((B=s.content)==null?void 0:B.date_tag)||"",slug:s.slug,images:Q(s.content.visuals),repeatCount:1,imageHeight:t(r).height+"rem",imageWidth:"auto",imageQuality:t(r).quality,imageFormat:t(r).format,resolutionRatio:t(r).resolutionRatio},null,8,["name","location","date","slug","images","imageHeight","imageQuality","imageFormat","resolutionRatio"])])}),128))])):(o(),n("div",K,a[4]||(a[4]=[i("p",null,"No other shows available",-1)])))],2)):d("",!0)])])}}};export{st as default};
